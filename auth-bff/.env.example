# =============================================================================
# Auth BFF Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control

# Server Configuration
PORT=8080
HOST=0.0.0.0
NODE_ENV=development
LOG_LEVEL=info

# =============================================================================
# Keycloak - Internal IDP (for platform admins/staff)
# =============================================================================
KEYCLOAK_INTERNAL_URL=https://devtest-internal-idp.tesserix.app
KEYCLOAK_INTERNAL_REALM=tesserix-internal
KEYCLOAK_INTERNAL_CLIENT_ID=admin-dashboard
KEYCLOAK_INTERNAL_CLIENT_SECRET=your-internal-client-secret

# =============================================================================
# Keycloak - Customer IDP (for marketplace merchants/tenants)
# =============================================================================
KEYCLOAK_CUSTOMER_URL=https://devtest-customer-idp.tesserix.app
KEYCLOAK_CUSTOMER_REALM=tesserix-customer
KEYCLOAK_CUSTOMER_CLIENT_ID=marketplace-dashboard
KEYCLOAK_CUSTOMER_CLIENT_SECRET=rSkcsVS9dKv0Q4HyFMdjg0wR3TcQMtSt

# =============================================================================
# Session Configuration
# =============================================================================
# Secret for signing session cookies (min 32 chars)
SESSION_SECRET=your-session-secret-min-32-characters-here
SESSION_MAX_AGE=86400
SESSION_COOKIE_NAME=bff_session
# SESSION_COOKIE_DOMAIN=.tesserix.app

# =============================================================================
# CSRF Protection
# =============================================================================
CSRF_SECRET=your-csrf-secret-min-32-characters-here

# =============================================================================
# Redis (for session storage)
# =============================================================================
# Option 1: Use full URL
# REDIS_URL=redis://localhost:6379

# Option 2: Use individual settings
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password

# =============================================================================
# CORS Configuration
# =============================================================================
ALLOWED_ORIGINS=https://*.tesserix.app,http://localhost:3000,http://localhost:3001

# =============================================================================
# API Gateway URL (for proxying authenticated API calls)
# =============================================================================
API_GATEWAY_URL=http://localhost:8000

# =============================================================================
# Trust Proxy (set to true when behind load balancer/reverse proxy)
# =============================================================================
TRUST_PROXY=true
